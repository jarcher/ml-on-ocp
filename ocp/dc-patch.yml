#mnist
oc patch dc nmo-demo -p '{"spec":{"template":{"spec":{"affinity":{"nodeAffinity":{"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"alpha.kubernetes.io/nvidia-gpu-name","operator":"In","values":["GTX_970"]}]}]}}},"containers":[{"name":"mnist","resources":{"limits":{"alpha.kubernetes.io/nvidia-gpu":"1"}}}]}}}}'
#nmo
oc patch dc nmo-demo -p '{"spec":{"template":{"spec":{"affinity":{"nodeAffinity":{"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"alpha.kubernetes.io/nvidia-gpu-name","operator":"In","values":["GTX_970"]}]}]}}},"containers":[{"name":"nmo","resources":{"limits":{"alpha.kubernetes.io/nvidia-gpu":"1"}}}]}}}}'

#---
#or
#---
#oc edit dc
#apiVersion: v1
#kind: pod
#metadata: 
#  annotations: 
#    scheduler.alpha.kubernetes.io/affinity: |
#        {
#          "nodeAffinity": {
#            "requiredDuringSchedulingIgnoredDuringExecution": {
#              "nodeSelectorTerms": [
#                {
#                  "matchExpressions": [
#                    {
#                      "key": "alpha.kubernetes.io/nvidia-gpu-name",
#                      "operator": "In",
#                      "values": ["GTX_980"]
#                    }
#                  ]
#                }
#              ]
#            }
#          }
#        }
#spec: 
#  containers: 
#    - 
#      name: nmo-demo
#      resources: 
#        limits: 
#          alpha.kubernetes.io/nvidia-gpu: 1

